# rosterbots
Roster Bots Example Code for Stack Sports Hiring Process

To install and run
```
npm install
node server/index.js
```
To build the transpiled versions of the code and run
```
npm install
npm run build
node dist/server/index.js
```

with the server running you can use a browser, postman(probably the most preferable method if you like a nice GUI and pretty JSON to look at) or curl to hit the roster generation endpoint with the following urls
```
http://localhost:9000/api/roster/generate
```
or with with args
```
http://localhost:9000/api/roster/generate?teamName=BostonCeltics&starterSelector=TOTAL&minRating=3&extraPoints=15&attributePreference=EVEN,SPEED,STRENGTH,AGILITY
```
# Args Specification
teamName is self explanatory and I'm not sure it was even a requirement to have. But it helps with a couple of easter egg player names I put in the code.

starterSelector can be TOTAL or SPEED or STRENGTH or AGILITY and will sort
the starting lineup based off of the category specified.

minRating specifies the minimum rating you will have on the roster.
The code will then generate sequential ratings starting with that value for the rest of the players. This is tied into the extraPoints argument, see below. Currently with the max total points of team players being set at the requirement of 175 this argument has to be a value of 4 or less to actually generate a roster. Any higher and it will return an error. Since the requirements do not specify a player not being able to have 0 for any or all of there attributes it is possible to set the minRating to 0 or 1. Depending on how you use the extra points variable when doing that you should see duplicate name errors pop up and be automatically corrected if you use either of the player name easter egg from team names. One Tom Brady is more than enough. lol.

extraPoints specifies how to allocate all the extra points left after generating the base roster, valid values are MAX, EVEN or any valid integer number. If the number specified is higher than then remaining points to allocate left then it will function exactly as if you had passed the MAX argument. EVEN distributes 1 to each player starting with the highest rated and looping around back to the starting player until all the extra points are exhausted. If the number is less than the total amount of extra points left it will allocate that number evenly as many times as possible until there are no more points remaining or there are less than that number remaining in which case those remaining points will be allocated to the next player to be selected for allocation.

attributePreference a comma separated list of values that are either EVEN or SPEED or STRENGTH or AGILITY. These are applied to the Draft prospect list specifying the preference of the potential drafted players attribute allocation when generated. This list can be 1 to 15 long and can specify each type with any amount of frequency within the list. If less than 15 terms are specified then when applying the list to the 15 players it will iterate over the list again as many times as needed until all 15 player prospects have been generated.

If you want you could try to change some of the constant values in server/config/constants.js. I haven't tried but it is possible I used them well enough that you could potentially easily change some of the functionality of the code.

You said to impress you with well written tests. Well I've never really written or used testing of any kind as part of my development. I think implemented some code against a test once at nimbus 9 and could see the value in not having to spin up the whole system just to see if my implementation worked, but other than that it has never been a priority to learn how to write or use good tests for development. It's really one of my weak points that I would like to get better at. Since I still have to perform at my current job I can't learn everything, but I wanted to show you I could potentially get better so I tried writing a few tests, i'm not sure really what they classify as even as far as tests(unit, functional, integration, other category I don't know about) go but they run and pass. You can run them from the root of the project directory with the following command. I just test for the size of the starters and substitutes arrays being correct and test for my player name easter eggs.
```
node_modules/mocha/bin/mocha --compilers js:babel-core/register server/api/roster/index.spec.js
```
I really should have also made a nice gulp script to run my tests and for build functions of the project. I have a nice gulp script with the current project I am developing on but it was mostly generated by angular fullstack and honestly the last time I wrote a gulp style build script from scratch was using grunt as gulp had just been released like that month. Much like testing this is something I could get proficient at if that is what you desired but I've already spent quite a bit of time crafting this example as is. So ya there is no front end piece either, but from my initial interview it seemed my NodeJS skills were more what you were interested in looking at, so I focused on that. But with a nice api endpoint that accepts a bunch of parameters it wouldn't take me all that much effort to implement a front end wrapper to it.
